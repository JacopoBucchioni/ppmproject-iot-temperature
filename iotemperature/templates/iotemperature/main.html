{% extends 'iotemperature/base.html' %}

{% block content %}
    <div class="container" id="mysensors">

        {% for m in mis %}
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-5">

                    <div class="card mt-3 text-center shadow rounded" id="sensor-{{ m.sensor.id }}">
                        <div class="card-body" id="mis-card-body">
                            <h3 class="card-title" id="sensor-name"><a
                                    href="{% url 'sensor_view' pk=m.sensor.pk %}">{{ m.sensor }}</a></h3>
                            {% if m.sensor.friendlyName %}
                                <p class="card-text" id="IPAddress"><small
                                        class="text-muted">{{ m.sensor.IPAddress }}</small></p>
                            {% endif %}
                            {% if m.sensor.cluster %}
                                <p class="card-text" id="cluster"><small
                                        class="text-muted">{{ m.sensor.cluster }}</small></p>
                            {% endif %}
                            <p class="card-text" id="sensor-data">temperatura: {{ m.temperature }} ℃ <br>
                                umidità: {{ m.humidity }} % </p>
                        </div>
                        <div class="card-footer">
                            <p class="card-text"><small class="text-muted">Last update {{ m.date }}</small></p>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}

    </div>
{% endblock content %}


{% block scripts %}
    <script>
        var sensors = {{ sensors }};
    </script>
    {% load static %}
    <script src="{% static 'iotemperature/js/main.js' %}"></script>
{% endblock scripts %}
